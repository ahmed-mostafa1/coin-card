@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&display=swap');
@import 'tailwindcss';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@variant dark (&:where(.dark, .dark *));

@theme {
    --font-sans: 'Cairo', ui-sans-serif, system-ui, sans-serif;
    --radius-lg: 1rem;
    --radius-xl: 1rem;
    --radius-2xl: 1rem;
    --radius-3xl: 1rem;

    /* Palette */
    --color-brand-50: #eef7f2;
    --color-brand-100: #dbeee5;
    --color-brand-200: #b7e5cd; /* light mint */
    --color-brand-300: #8abeb9; /* teal */
    --color-brand-400: #5b8d96;
    --color-brand-500: #305669; /* deep teal */
    --color-brand-600: #284859;
    --color-brand-700: #203949;
    --color-brand-800: #192c3a;
    --color-brand-900: #0f1d28;

    --color-accent-50: #f8eee9;
    --color-accent-100: #f1ded2;
    --color-accent-200: #e3bda6;
    --color-accent-300: #d59c7a;
    --color-accent-400: #c1785a; /* accent */
    --color-accent-500: #a35f46;
    --color-accent-600: #844a38;
    --color-accent-700: #673a2c;
    --color-accent-800: #4a2b21;
    --color-accent-900: #2f1b14;

    /* map emerald + blue utility names to palette */
    --color-emerald-50: var(--color-brand-50);
    --color-emerald-100: var(--color-brand-100);
    --color-emerald-200: var(--color-brand-200);
    --color-emerald-300: var(--color-brand-300);
    --color-emerald-400: var(--color-brand-400);
    --color-emerald-500: var(--color-brand-500);
    --color-emerald-600: var(--color-brand-600);
    --color-emerald-700: var(--color-brand-700);
    --color-emerald-800: var(--color-brand-800);
    --color-emerald-900: var(--color-brand-900);

    --color-blue-50: var(--color-accent-50);
    --color-blue-100: var(--color-accent-100);
    --color-blue-200: var(--color-accent-200);
    --color-blue-300: var(--color-accent-300);
    --color-blue-400: var(--color-accent-400);
    --color-blue-500: var(--color-accent-500);
    --color-blue-600: var(--color-accent-600);
    --color-blue-700: var(--color-accent-700);
    --color-blue-800: var(--color-accent-800);
    --color-blue-900: var(--color-accent-900);
}

@layer base {
    body {
        @apply bg-[#f3f6f5] text-slate-900 transition-colors duration-200;
    }

    /* Dark mode styles */
    .dark body {
        @apply bg-slate-900;
        color: white !important;
    }

    .dark {
        color-scheme: dark;
    }


    /* Force all text to white in dark mode */
    .dark *:not(svg):not(path):not(circle):not(rect):not(line):not(polyline):not(polygon) {
        color: white !important;
    }

    /* Keep icon colors */
    .dark svg,
    .dark svg * {
        color: inherit !important;
    }

    .dark thead {
        @apply bg-slate-900;
        color: #064e3b !important; /* emerald-900 */
    }

}

@layer components {
    .cc-hover-lift {
        @apply transition-all duration-200 ease-out hover:-translate-y-0.5 hover:shadow-md motion-reduce:transform-none motion-reduce:transition-none;
    }

    .cc-hover-glow {
        @apply transition-all duration-200 hover:shadow-md motion-reduce:transition-none;
    }

    .cc-press {
        @apply active:scale-[0.98] motion-reduce:transform-none;
    }

    .cc-nav-link {
        @apply rounded-full border border-emerald-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 transition hover:-translate-y-0.5 hover:border-emerald-300 hover:bg-emerald-50 hover:text-emerald-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 motion-reduce:transform-none;
    }

    .dark .cc-nav-link {
        @apply border-emerald-700 bg-slate-800 text-slate-200 hover:border-emerald-600 hover:bg-slate-700 hover:text-emerald-400;
    }

    .cc-nav-link-pill {
        @apply border-emerald-200 bg-emerald-100 text-emerald-800 hover:bg-emerald-200;
    }

    .dark .cc-nav-link-pill {
        @apply border-emerald-600 bg-emerald-900 text-emerald-300 hover:bg-emerald-800;
    }

    .cc-pill {
        @apply rounded-full border border-emerald-200 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:border-emerald-300 hover:bg-emerald-50 hover:text-emerald-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 motion-reduce:transition-none;
    }

    .dark .cc-pill {
        @apply border-emerald-700 bg-slate-800 text-slate-200 hover:border-emerald-600 hover:bg-slate-700 hover:text-emerald-400;
    }

    .cc-pill-active {
        @apply border-emerald-200 bg-emerald-100 text-emerald-800 hover:bg-emerald-200;
    }

    .dark .cc-pill-active {
        @apply border-emerald-600 bg-emerald-900 text-emerald-300 hover:bg-emerald-800;
    }

    .store-shell {
        @apply w-full max-w-6xl lg:mx-auto;
    }

    .store-pill {
        @apply relative flex items-center gap-2 overflow-hidden rounded-full border border-slate-300 bg-white px-5 py-2 shadow-sm;
        width: 100%;
        max-width: 100%;
        justify-content: flex-start;
    }

    .dark .store-pill {
        @apply border-slate-600 bg-slate-800 text-slate-200;
    }

    .store-search {
        @apply w-full rounded-full border border-slate-300 bg-white px-5 py-3 text-sm text-slate-700 shadow-inner outline-none focus:border-emerald-400 focus:ring-2 focus:ring-emerald-300;
    }

    .dark .store-search {
        @apply border-slate-600 bg-slate-800 text-slate-200 focus:border-emerald-500 focus:ring-emerald-600;
    }

    .store-card {
        @apply rounded-xl border border-slate-300 bg-white shadow-[0_6px_12px_rgba(0,0,0,0.08)];
    }

    .dark .store-card {
        @apply border-slate-700 bg-slate-800 shadow-[0_6px_12px_rgba(0,0,0,0.3)];
    }

    .store-card-title {
        @apply text-[15px] font-semibold text-slate-800;
    }

    .dark .store-card-title {
        @apply text-slate-200;
    }

    .store-input {
        @apply w-full rounded-lg border border-slate-300 bg-white px-4 py-3 text-sm text-slate-700 shadow-inner focus:border-emerald-400 focus:ring-2 focus:ring-emerald-300;
    }

    .dark .store-input {
        @apply border-slate-600 bg-slate-800 text-slate-200 focus:border-emerald-500 focus:ring-emerald-600;
    }

    .store-ticker-track {
        @apply inline-block whitespace-nowrap text-[13px] font-semibold text-slate-700;
        animation: marquee-rtl 18s linear infinite;
        will-change: transform;
    }

    .dark .store-ticker-track {
        @apply text-slate-300;
    }

    /* Responsive Table Component */
    .rt-table {
        @apply w-full text-right text-sm;
    }

    /* Desktop/Tablet: Normal table behavior (>=640px) */
    @media (min-width: 640px) {
        .rt-table thead {
            @apply table-header-group;
        }

        .rt-table tbody {
            @apply table-row-group;
        }

        .rt-table tr {
            @apply table-row;
        }

        .rt-table th,
        .rt-table td {
            @apply table-cell;
        }

        .rt-table td::before {
            content: none;
        }
    }

    /* Mobile: Card layout (<640px) */
    @media (max-width: 639px) {
        /* Hide table header on mobile */
        .rt-table thead {
            @apply hidden;
        }

        /* Each row becomes a card */
        .rt-table tbody {
            @apply block space-y-5;
        }

        .rt-table tr {
            @apply block rounded-2xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-5 shadow-md;
        }

        /* Each cell becomes a vertical stack: label on top, value below */
        .rt-table td {
            @apply block border-b border-slate-100 dark:border-slate-700/50 py-3.5 text-sm;
        }

        .rt-table td:first-child {
            @apply pt-0;
        }

        .rt-table td:last-child {
            @apply border-b-0 pb-0;
        }

        /* Label from data-label attribute - displayed above value */
        .rt-table td::before {
            content: attr(data-label);
            @apply block text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400 mb-1.5;
        }

        /* Value styling - more prominent */
        .rt-table td > * {
            @apply text-slate-900 dark:text-slate-100;
        }

        /* Ensure proper text sizing for values */
        .rt-table td {
            @apply text-base font-medium;
        }

        /* Handle flex containers in cells (like action buttons) */
        .rt-table td > .flex {
            @apply justify-start;
        }

        /* Badge styling in mobile cards */
        .rt-table td > span[class*="badge"],
        .rt-table td > .inline-flex {
            @apply mt-0.5;
        }
    }

    /* RTL Support */
    :root[dir='rtl'] .rt-table,
    [dir='rtl'] .rt-table {
        @apply text-right;
    }

    :root[dir='ltr'] .rt-table,
    [dir='ltr'] .rt-table {
        @apply text-left;
    }

    /* RTL Mobile adjustments */
    @media (max-width: 639px) {
        :root[dir='rtl'] .rt-table td::before,
        [dir='rtl'] .rt-table td::before {
            @apply text-right;
        }

        :root[dir='ltr'] .rt-table td::before,
        [dir='ltr'] .rt-table td::before {
            @apply text-left;
        }
    }
}

:root[dir='rtl'] .store-ticker-track {
    animation-name: marquee-ltr;
}

@keyframes marquee-rtl {
    0% {
        transform: translateX(100%);
    }
    100% {
        transform: translateX(-100%);
    }
}

@keyframes marquee-ltr {
    0% {
        transform: translateX(-100%);
    }
    100% {
        transform: translateX(100%);
    }
}
